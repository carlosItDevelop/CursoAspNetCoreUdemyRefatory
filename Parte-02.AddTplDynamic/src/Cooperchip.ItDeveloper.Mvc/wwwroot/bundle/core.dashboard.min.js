(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){"use strict";var o={},d,t,r,f,s,u,c,g,nt,l,at,tt,it,rt,e,ut,ft,h,a,et,ot,st,v,y,p,ht,ct,lt,w,b,k,i,vt=0;d=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:undefined,normalRangeMax:undefined,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:undefined,chartRangeMax:undefined,chartRangeMinX:undefined,chartRangeMaxX:undefined,tooltipFormat:new r('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:undefined,nullColor:undefined,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:!1,colorMap:undefined,tooltipFormat:new r('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new r('<span style="color: {{color}}">&#9679;<\/span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss","0":"Draw","1":"Win"}}},discrete:{lineHeight:"auto",thresholdColor:undefined,thresholdValue:0,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:!1,tooltipFormat:new r("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:undefined,tooltipFormat:new r("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new r('<span style="color: {{color}}">&#9679;<\/span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:undefined,targetColor:"#4a2",chartRangeMax:undefined,chartRangeMin:undefined,tooltipFormat:new r("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}};ht='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}';t=function(){var t,i;return t=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(t.prototype=n.extend(new arguments[0],arguments[arguments.length-1]),t._super=arguments[0].prototype):t.prototype=arguments[arguments.length-1],arguments.length>2&&(i=Array.prototype.slice.call(arguments,1,-1),i.unshift(t.prototype),n.extend.apply(n,i))):t.prototype=arguments[0],t.prototype.cls=t,t};n.SPFormatClass=r=t({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(n,t){this.format=n;this.fclass=t},render:function(n,t,i){var s=this,h=n,f,e,u,r,o;return this.format.replace(this.fre,function(){var n;return(e=arguments[1],u=arguments[3],f=s.precre.exec(e),f?(o=f[2],e=f[1]):o=!1,r=h[e],r===undefined)?"":u&&t&&t[u]?(n=t[u],n.get?t[u].get(r)||r:t[u][r]||r):(nt(r)&&(r=i.get("numberFormatter")?i.get("numberFormatter")(r):rt(r,o,i.get("numberDigitGroupCount"),i.get("numberDigitGroupSep"),i.get("numberDecimalMark"))),r)})}});n.spformat=function(n,t){return new r(n,t)};f=function(n,t,i){return n<t?t:n>i?i:n};s=function(n,t){var i;return t===2?(i=Math.floor(n.length/2),n.length%2?n[i]:(n[i-1]+n[i])/2):n.length%2?(i=(n.length*t+t)/4,i%1?(n[Math.floor(i)]+n[Math.floor(i)-1])/2:n[i-1]):(i=(n.length*t+2)/4,i%1?(n[Math.floor(i)]+n[Math.floor(i)-1])/2:n[i-1])};u=function(n){var t;switch(n){case"undefined":n=undefined;break;case"null":n=null;break;case"true":n=!0;break;case"false":n=!1;break;default:t=parseFloat(n);n==t&&(n=t)}return n};c=function(n){for(var i=[],t=n.length;t--;)i[t]=u(n[t]);return i};g=function(n,t){for(var u=[],i=0,r=n.length;i<r;i++)n[i]!==t&&u.push(n[i]);return u};nt=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};rt=function(t,i,r,u,f){var e,o;for(t=(i===!1?parseFloat(t).toString():t.toFixed(i)).split(""),e=(e=n.inArray(".",t))<0?t.length:e,e<t.length&&(t[e]=f),o=e-r;o>0;o-=r)t.splice(o,0,u);return t.join("")};l=function(n,t,i){for(var r=t.length;r--;)if((!i||t[r]!==null)&&t[r]!==n)return!1;return!0};at=function(n){for(var i=0,t=n.length;t--;)i+=typeof n[t]=="number"?n[t]:0;return i};it=function(t){return n.isArray(t)?t:[t]};tt=function(n){var t;document.createStyleSheet?document.createStyleSheet().cssText=n:(t=document.createElement("style"),t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),t[typeof document.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=n)};n.fn.simpledraw=function(t,i,r,u){var f,e;if(r&&(f=this.data("_jqs_vcanvas")))return f;if(t===undefined&&(t=n(this).innerWidth()),i===undefined&&(i=n(this).innerHeight()),n.fn.sparkline.hasCanvas)f=new b(t,i,this,u);else if(n.fn.sparkline.hasVML)f=new k(t,i,this);else return!1;return e=n(this).data("_jqs_mhandler"),e&&e.registerCanvas(f),f};n.fn.cleardraw=function(){var n=this.data("_jqs_vcanvas");n&&n.reset()};n.RangeMapClass=e=t({init:function(n){var i,t,r=[];for(i in n)n.hasOwnProperty(i)&&typeof i=="string"&&i.indexOf(":")>-1&&(t=i.split(":"),t[0]=t[0].length===0?-Infinity:parseFloat(t[0]),t[1]=t[1].length===0?Infinity:parseFloat(t[1]),t[2]=n[i],r.push(t));this.map=n;this.rangelist=r||!1},get:function(n){var i=this.rangelist,r,t,u;if((u=this.map[n])!==undefined)return u;if(i)for(r=i.length;r--;)if(t=i[r],t[0]<=n&&t[1]>=n)return t[2];return undefined}});n.range_map=function(n){return new e(n)};ut=t({init:function(t,i){var r=n(t);this.$el=r;this.options=i;this.currentPageX=0;this.currentPageY=0;this.el=t;this.splist=[];this.tooltip=null;this.over=!1;this.displayTooltips=!i.get("disableTooltips");this.highlightEnabled=!i.get("disableHighlight")},registerSparkline:function(n){this.splist.push(n);this.over&&this.updateDisplay()},registerCanvas:function(t){var i=n(t.canvas);this.canvas=t;this.$canvas=i;i.mouseenter(n.proxy(this.mouseenter,this));i.mouseleave(n.proxy(this.mouseleave,this));i.click(n.proxy(this.mouseclick,this))},reset:function(n){this.splist=[];this.tooltip&&n&&(this.tooltip.remove(),this.tooltip=undefined)},mouseclick:function(t){var i=n.Event("sparklineClick");i.originalEvent=t;i.sparklines=this.splist;this.$el.trigger(i)},mouseenter:function(t){n(document.body).unbind("mousemove.jqs");n(document.body).bind("mousemove.jqs",n.proxy(this.mousemove,this));this.over=!0;this.currentPageX=t.pageX;this.currentPageY=t.pageY;this.currentEl=t.target;!this.tooltip&&this.displayTooltips&&(this.tooltip=new ft(this.options),this.tooltip.updatePosition(t.pageX,t.pageY));this.updateDisplay()},mouseleave:function(){n(document.body).unbind("mousemove.jqs");var i=this.splist,f=i.length,r=!1,u,t;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<f;t++)u=i[t],u.clearRegionHighlight()&&(r=!0);r&&this.canvas.render()},mousemove:function(n){this.currentPageX=n.pageX;this.currentPageY=n.pageY;this.currentEl=n.target;this.tooltip&&this.tooltip.updatePosition(n.pageX,n.pageY);this.updateDisplay()},updateDisplay:function(){var r=this.splist,o=r.length,s=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,l=this.currentPageY-h.top,u,i,t,f,e;if(this.over){for(t=0;t<o;t++)i=r[t],f=i.setRegionHighlight(this.currentEl,c,l),f&&(s=!0);if(s){if(e=n.Event("sparklineRegionChange"),e.sparklines=this.splist,this.$el.trigger(e),this.tooltip){for(u="",t=0;t<o;t++)i=r[t],u+=i.getCurrentRegionTooltip();this.tooltip.setContent(u)}this.disableHighlight||this.canvas.render()}f===null&&this.mouseleave()}}});ft=t({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var r=t.get("tooltipClassname","jqstooltip"),u=this.sizeStyle,i;this.container=t.get("tooltipContainer")||document.body;this.tooltipOffsetX=t.get("tooltipOffsetX",10);this.tooltipOffsetY=t.get("tooltipOffsetY",12);n("#jqssizetip").remove();n("#jqstooltip").remove();this.sizetip=n("<div/>",{id:"jqssizetip",style:u,"class":r});this.tooltip=n("<div/>",{id:"jqstooltip","class":r}).appendTo(this.container);i=this.tooltip.offset();this.offsetLeft=i.left;this.offsetTop=i.top;this.hidden=!0;n(window).unbind("resize.jqs scroll.jqs");n(window).bind("resize.jqs scroll.jqs",n.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=n(window).scrollTop();this.scrollLeft=n(window).scrollLeft();this.scrollRight=this.scrollLeft+n(window).width();this.updatePosition()},getSize:function(n){this.sizetip.html(n).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(n){if(!n){this.tooltip.css("visibility","hidden");this.hidden=!0;return}this.getSize(n);this.tooltip.html(n).css({width:this.width,height:this.height,visibility:"visible"});this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(n,t){if(n===undefined){if(this.mousex===undefined)return;n=this.mousex-this.offsetLeft;t=this.mousey-this.offsetTop}else this.mousex=n=n-this.offsetLeft,this.mousey=t=t-this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,n+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),n<this.scrollLeft?n=this.scrollLeft:n+this.width>this.scrollRight&&(n=this.scrollRight-this.width),this.tooltip.css({left:n,top:t}))},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=undefined;n(window).unbind("resize.jqs scroll.jqs")}});ct=function(){tt(ht)};n(ct);i=[];n.fn.sparkline=function(t,r){return this.each(function(){var u=new n.fn.sparkline.options(this,r),o=n(this),e,f;if(e=function(){var e,c,s,r,i,h,f;if(t==="html"||t===undefined?(f=this.getAttribute(u.get("tagValuesAttribute")),(f===undefined||f===null)&&(f=o.html()),e=f.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):e=t,c=u.get("width")==="auto"?e.length*u.get("defaultPixelsPerValue"):u.get("width"),u.get("height")==="auto"?u.get("composite")&&n.data(this,"_jqs_vcanvas")||(r=document.createElement("span"),r.innerHTML="a",o.html(r),s=n(r).innerHeight()||n(r).height(),n(r).remove(),r=null):s=u.get("height"),u.get("disableInteraction")?i=!1:(i=n.data(this,"_jqs_mhandler"),i?u.get("composite")||i.reset():(i=new ut(this,u),n.data(this,"_jqs_mhandler",i))),u.get("composite")&&!n.data(this,"_jqs_vcanvas")){n.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),n.data(this,"_jqs_errnotify",!0));return}h=new n.fn.sparkline[u.get("type")](this,e,u,c,s);h.render();i&&i.registerSparkline(h)},n(this).html()&&!u.get("disableHiddenCheck")&&n(this).is(":hidden")||n.fn.jquery<"1.3.0"&&n(this).parents().is(":hidden")||!n(this).parents("body").length){if(!u.get("composite")&&n.data(this,"_jqs_pending"))for(f=i.length;f;f--)i[f-1][0]==this&&i.splice(f-1,1);i.push([this,e]);n.data(this,"_jqs_pending",!0)}else e.call(this)})};n.fn.sparkline.defaults=d();n.sparkline_display_visible=function(){for(var r,u=[],t=0,f=i.length;t<f;t++)r=i[t][0],n(r).is(":visible")&&!n(r).parents().is(":hidden")?(i[t][1].call(r),n.data(i[t][0],"_jqs_pending",!1),u.push(t)):n(r).closest("html").length||n.data(r,"_jqs_pending")||(n.data(i[t][0],"_jqs_pending",!1),u.push(t));for(t=u.length;t;t--)i.splice(u[t-1],1)};n.fn.sparkline.options=t({init:function(t,i){var e,r,u,f;this.userOptions=i=i||{};this.tag=t;this.tagValCache={};r=n.fn.sparkline.defaults;u=r.common;this.tagOptionsPrefix=i.enableTagOptions&&(i.tagOptionsPrefix||u.tagOptionsPrefix);f=this.getTagSetting("type");e=f===o?r[i.type||u.type]:r[f];this.mergedOptions=n.extend({},u,e,i)},getTagSetting:function(n){var r=this.tagOptionsPrefix,t,i,f,e;if(r===!1||r===undefined)return o;if(this.tagValCache.hasOwnProperty(n))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(r+n),t===undefined||t===null)t=o;else if(t.substr(0,1)==="[")for(t=t.substr(1,t.length-2).split(","),i=t.length;i--;)t[i]=u(t[i].replace(/(^\s*)|(\s*$)/g,""));else if(t.substr(0,1)==="{")for(f=t.substr(1,t.length-2).split(","),t={},i=f.length;i--;)e=f[i].split(":",2),t[e[0].replace(/(^\s*)|(\s*$)/g,"")]=u(e[1].replace(/(^\s*)|(\s*$)/g,""));else t=u(t);this.tagValCache.key=t}return t},get:function(n,t){var i=this.getTagSetting(n),r;return i!==o?i:(r=this.mergedOptions[n])===undefined?t:r}});n.fn.sparkline._base=t({disabled:!1,init:function(t,i,r,u,f){this.el=t;this.$el=n(t);this.values=i;this.options=r;this.width=u;this.height=f;this.currentRegion=undefined},initTarget:function(){var n=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),n))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(n,t,i){var u=this.currentRegion,f=!this.options.get("disableHighlight"),r;return t>this.canvasWidth||i>this.canvasHeight||t<0||i<0?null:(r=this.getRegion(n,t,i),u!==r)?(u!==undefined&&f&&this.removeHighlight(),this.currentRegion=r,r!==undefined&&f&&this.renderHighlight(),!0):!1},clearRegionHighlight:function(){return this.currentRegion!==undefined?(this.removeHighlight(),this.currentRegion=undefined,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var i=this.options,v="",s=[],t,e,y,p,w,u,h,c,l,b,a,o,k,f;if(this.currentRegion===undefined)return"";if(t=this.getCurrentRegionFields(),a=i.get("tooltipFormatter"),a)return a(this,i,t);if(i.get("tooltipChartTitle")&&(v+='<div class="jqs jqstitle">'+i.get("tooltipChartTitle")+"<\/div>\n"),e=this.options.get("tooltipFormat"),!e)return"";if(n.isArray(e)||(e=[e]),n.isArray(t)||(t=[t]),h=this.options.get("tooltipFormatFieldlist"),c=this.options.get("tooltipFormatFieldlistKey"),h&&c){for(l=[],u=t.length;u--;)b=t[u][c],(f=n.inArray(b,h))!=-1&&(l[f]=t[u]);t=l}for(y=e.length,k=t.length,u=0;u<y;u++)for(o=e[u],typeof o=="string"&&(o=new r(o)),p=o.fclass||"jqsfield",f=0;f<k;f++)t[f].isNull&&i.get("tooltipSkipNull")||(n.extend(t[f],{prefix:i.get("tooltipPrefix"),suffix:i.get("tooltipSuffix")}),w=o.render(t[f],i.get("tooltipValueLookups"),i),s.push('<div class="'+p+'">'+w+"<\/div>"));return s.length?v+s.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(n,t){var e=t.get("highlightColor"),o=t.get("highlightLighten"),r,s,u,i;if(e)return e;if(o&&(r=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(n)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(n),r)){for(u=[],s=n.length===4?16:1,i=0;i<3;i++)u[i]=f(Math.round(parseInt(r[i+1],16)*s*o),0,255);return"rgb("+u.join(",")+")"}return n}});h={changeHighlight:function(t){var r=this.currentRegion,f=this.target,u=this.regionShapes[r],i;u&&(i=this.renderRegion(r,t),n.isArray(i)||n.isArray(u)?(f.replaceWithShapes(u,i),this.regionShapes[r]=n.map(i,function(n){return n.id})):(f.replaceWithShape(u,i),this.regionShapes[r]=i.id))},render:function(){var e=this.values,o=this.target,u=this.regionShapes,t,f,i,r;if(this.cls._super.render.call(this)){for(i=e.length;i--;)if(t=this.renderRegion(i),t)if(n.isArray(t)){for(f=[],r=t.length;r--;)t[r].append(),f.push(t[r].id);u[i]=f}else t.append(),u[i]=t.id;else u[i]=null;o.render()}}};n.fn.sparkline.line=a=t(n.fn.sparkline._base,{type:"line",init:function(n,t,i,r,u){a._super.init.call(this,n,t,i,r,u);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(n,t){for(var r=this.regionMap,i=r.length;i--;)if(r[i]!==null&&t>=r[i][0]&&t<=r[i][1])return r[i][2];return undefined},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.yvalues[n]===null,x:this.xvalues[n],y:this.yvalues[n],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:n}},renderHighlight:function(){var s=this.currentRegion,t=this.target,n=this.vertices[s],i=this.options,f=i.get("spotRadius"),e=i.get("highlightSpotColor"),o=i.get("highlightLineColor"),r,u;n&&(f&&e&&(r=t.drawCircle(n[0],n[1],f,undefined,e),this.highlightSpotId=r.id,t.insertAfterShape(this.lastShapeId,r)),o&&(u=t.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,o),this.highlightLineId=u.id,t.insertAfterShape(this.lastShapeId,u)))},removeHighlight:function(){var n=this.target;this.highlightSpotId&&(n.removeShapeId(this.highlightSpotId),this.highlightSpotId=null);this.highlightLineId&&(n.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){for(var t=this.values,h=t.length,i=this.xvalues,f=this.yvalues,r=this.yminmax,u,o,s,e,n=0;n<h;n++)u=t[n],o=typeof t[n]=="string",s=typeof t[n]=="object"&&t[n]instanceof Array,e=o&&t[n].split(":"),o&&e.length===2?(i.push(Number(e[0])),f.push(Number(e[1])),r.push(Number(e[1]))):s?(i.push(u[0]),f.push(u[1]),r.push(u[1])):(i.push(n),t[n]===null||t[n]==="null"?f.push(null):(f.push(Number(u)),r.push(Number(u))));this.options.get("xvalues")&&(i=this.options.get("xvalues"));this.maxy=this.maxyorg=Math.max.apply(Math,r);this.miny=this.minyorg=Math.min.apply(Math,r);this.maxx=Math.max.apply(Math,i);this.minx=Math.min.apply(Math,i);this.xvalues=i;this.yvalues=f;this.yminmax=r},processRangeOptions:function(){var n=this.options,t=n.get("normalRangeMin"),i=n.get("normalRangeMax");t!==undefined&&(t<this.miny&&(this.miny=t),i>this.maxy&&(this.maxy=i));n.get("chartRangeMin")!==undefined&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.miny)&&(this.miny=n.get("chartRangeMin"));n.get("chartRangeMax")!==undefined&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.maxy)&&(this.maxy=n.get("chartRangeMax"));n.get("chartRangeMinX")!==undefined&&(n.get("chartRangeClipX")||n.get("chartRangeMinX")<this.minx)&&(this.minx=n.get("chartRangeMinX"));n.get("chartRangeMaxX")!==undefined&&(n.get("chartRangeClipX")||n.get("chartRangeMaxX")>this.maxx)&&(this.maxx=n.get("chartRangeMaxX"))},drawNormalRange:function(n,t,i,r,u){var e=this.options.get("normalRangeMin"),f=this.options.get("normalRangeMax"),o=t+Math.round(i-i*((f-this.miny)/u)),s=Math.round(i*(f-e)/u);this.target.drawRect(n,o,r,s,undefined,this.options.get("normalRangeColor")).append()},render:function(){var t=this.options,l=this.target,s=this.canvasWidth,f=this.canvasHeight,ct=this.vertices,r=t.get("spotRadius"),vt=this.regionMap,p,v,w,h,c,ot,u,it,k,b,lt,g,at,st,rt,ut,ft,et,d,nt,tt,ht,y,o,i;if(a._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),y=this.xvalues,o=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(h=c=0,p=this.maxx-this.minx==0?1:this.maxx-this.minx,v=this.maxy-this.miny==0?1:this.maxy-this.miny,w=this.yvalues.length-1,r&&(s<r*4||f<r*4)&&(r=0),r&&(tt=t.get("highlightSpotColor")&&!t.get("disableInteraction"),(tt||t.get("minSpotColor")||t.get("spotColor")&&o[w]===this.miny)&&(f-=Math.ceil(r)),(tt||t.get("maxSpotColor")||t.get("spotColor")&&o[w]===this.maxy)&&(f-=Math.ceil(r),h+=Math.ceil(r)),(tt||(t.get("minSpotColor")||t.get("maxSpotColor"))&&(o[0]===this.miny||o[0]===this.maxy))&&(c+=Math.ceil(r),s-=Math.ceil(r)),(tt||t.get("spotColor")||t.get("minSpotColor")||t.get("maxSpotColor")&&(o[w]===this.miny||o[w]===this.maxy))&&(s-=Math.ceil(r))),f--,t.get("normalRangeMin")===undefined||t.get("drawNormalOnTop")||this.drawNormalRange(c,h,f,s,v),u=[],it=[u],st=rt=null,ut=o.length,i=0;i<ut;i++)k=y[i],lt=y[i+1],b=o[i],g=c+Math.round((k-this.minx)*(s/p)),at=i<ut-1?c+Math.round((lt-this.minx)*(s/p)):s,rt=g+(at-g)/2,vt[i]=[st||0,rt,i],st=rt,b===null?i&&(o[i-1]!==null&&(u=[],it.push(u)),ct.push(null)):(b<this.miny&&(b=this.miny),b>this.maxy&&(b=this.maxy),u.length||u.push([g,h+f]),ot=[g,h+Math.round(f-f*((b-this.miny)/v))],u.push(ot),ct.push(ot));for(ft=[],et=[],d=it.length,i=0;i<d;i++)u=it[i],u.length&&(t.get("fillColor")&&(u.push([u[u.length-1][0],h+f]),et.push(u.slice(0)),u.pop()),u.length>2&&(u[0]=[u[0][0],u[1][1]]),ft.push(u));for(d=et.length,i=0;i<d;i++)l.drawShape(et[i],t.get("fillColor"),t.get("fillColor")).append();for(t.get("normalRangeMin")!==undefined&&t.get("drawNormalOnTop")&&this.drawNormalRange(c,h,f,s,v),d=ft.length,i=0;i<d;i++)l.drawShape(ft[i],t.get("lineColor"),undefined,t.get("lineWidth")).append();if(r&&t.get("valueSpots"))for(nt=t.get("valueSpots"),nt.get===undefined&&(nt=new e(nt)),i=0;i<ut;i++)ht=nt.get(o[i]),ht&&l.drawCircle(c+Math.round((y[i]-this.minx)*(s/p)),h+Math.round(f-f*((o[i]-this.miny)/v)),r,undefined,ht).append();r&&t.get("spotColor")&&o[w]!==null&&l.drawCircle(c+Math.round((y[y.length-1]-this.minx)*(s/p)),h+Math.round(f-f*((o[w]-this.miny)/v)),r,undefined,t.get("spotColor")).append();this.maxy!==this.minyorg&&(r&&t.get("minSpotColor")&&(k=y[n.inArray(this.minyorg,o)],l.drawCircle(c+Math.round((k-this.minx)*(s/p)),h+Math.round(f-f*((this.minyorg-this.miny)/v)),r,undefined,t.get("minSpotColor")).append()),r&&t.get("maxSpotColor")&&(k=y[n.inArray(this.maxyorg,o)],l.drawCircle(c+Math.round((k-this.minx)*(s/p)),h+Math.round(f-f*((this.maxyorg-this.miny)/v)),r,undefined,t.get("maxSpotColor")).append()));this.lastShapeId=l.getLastShapeId();this.canvasTop=h;l.render()}}});n.fn.sparkline.bar=et=t(n.fn.sparkline._base,h,{type:"bar",init:function(t,i,r,o,s){var st=parseInt(r.get("barWidth"),10),ht=parseInt(r.get("barSpacing"),10),bt=r.get("chartRangeMin"),kt=r.get("chartRangeMax"),ct=r.get("chartRangeClip"),d=Infinity,b=-Infinity,lt,at,vt,nt,p,l,tt,yt,it,rt,a,v,pt,wt,y,ut,k,dt,gt,h,w,ni,ft,ot;for(et._super.init.call(this,t,i,r,o,s),l=0,tt=i.length;l<tt;l++)h=i[l],lt=typeof h=="string"&&h.indexOf(":")>-1,(lt||n.isArray(h))&&(y=!0,lt&&(h=i[l]=c(h.split(":"))),h=g(h,null),at=Math.min.apply(Math,h),vt=Math.max.apply(Math,h),at<d&&(d=at),vt>b&&(b=vt));for(this.stacked=y,this.regionShapes={},this.barWidth=st,this.barSpacing=ht,this.totalBarWidth=st+ht,this.width=o=i.length*st+(i.length-1)*ht,this.initTarget(),ct&&(pt=bt===undefined?-Infinity:bt,wt=kt===undefined?Infinity:kt),p=[],nt=y?[]:p,ft=[],ot=[],l=0,tt=i.length;l<tt;l++)if(y)for(ut=i[l],i[l]=gt=[],ft[l]=0,nt[l]=ot[l]=0,k=0,dt=ut.length;k<dt;k++)h=gt[k]=ct?f(ut[k],pt,wt):ut[k],h!==null&&(h>0&&(ft[l]+=h),d<0&&b>0?h<0?ot[l]+=Math.abs(h):nt[l]+=h:nt[l]+=Math.abs(h-(h<0?b:d)),p.push(h));else h=ct?f(i[l],pt,wt):i[l],h=i[l]=u(h),h!==null&&p.push(h);this.max=v=Math.max.apply(Math,p);this.min=a=Math.min.apply(Math,p);this.stackMax=b=y?Math.max.apply(Math,ft):v;this.stackMin=d=y?Math.min.apply(Math,p):a;r.get("chartRangeMin")!==undefined&&(r.get("chartRangeClip")||r.get("chartRangeMin")<a)&&(a=r.get("chartRangeMin"));r.get("chartRangeMax")!==undefined&&(r.get("chartRangeClip")||r.get("chartRangeMax")>v)&&(v=r.get("chartRangeMax"));this.zeroAxis=it=r.get("zeroAxis",!0);rt=a<=0&&v>=0&&it?0:it==!1?a:a>0?a:v;this.xaxisOffset=rt;yt=y?Math.max.apply(Math,nt)+Math.max.apply(Math,ot):v-a;this.canvasHeightEf=it&&a<0?this.canvasHeight-2:this.canvasHeight-1;a<rt?(ni=y&&v>=0?b:v,w=(ni-rt)/yt*this.canvasHeight,w!==Math.ceil(w)&&(this.canvasHeightEf-=2,w=Math.ceil(w))):w=this.canvasHeight;this.yoffset=w;n.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===undefined&&(this.colorMapByValue=new e(this.colorMapByValue)));this.range=yt},getRegion:function(n,t){var i=Math.floor(t/this.totalBarWidth);return i<0||i>=this.values.length?undefined:i},getCurrentRegionFields:function(){for(var i=this.currentRegion,r=it(this.values[i]),u=[],n,t=r.length;t--;)n=r[t],u.push({isNull:n===null,value:n,color:this.calcColor(t,n,i),offset:i});return u},calcColor:function(t,i,r){var e=this.colorMapByIndex,o=this.colorMapByValue,f=this.options,u,s;return u=this.stacked?f.get("stackedBarColor"):i<0?f.get("negBarColor"):f.get("barColor"),i===0&&f.get("zeroColor")!==undefined&&(u=f.get("zeroColor")),o&&(s=o.get(i))?u=s:e&&e.length>r&&(u=e[r]),n.isArray(u)?u[t%u.length]:u},renderRegion:function(t,i){var r=this.values[t],o=this.options,s=this.xaxisOffset,v=[],p=this.range,tt=this.stacked,w=this.target,b=t*this.totalBarWidth,it=this.canvasHeightEf,f=this.yoffset,h,c,u,k,y,a,d,e,g,nt;if(r=n.isArray(r)?r:[r],d=r.length,e=r[0],k=l(null,r),nt=l(s,r,!0),k)return o.get("nullColor")?(u=i?o.get("nullColor"):this.calcHighlightColor(o.get("nullColor"),o),h=f>0?f-1:f,w.drawRect(b,h,this.barWidth-1,0,u,u)):undefined;for(y=f,a=0;a<d;a++){if(e=r[a],tt&&e===s){if(!nt||g)continue;g=!0}c=p>0?Math.floor(it*(Math.abs(e-s)/p))+1:1;e<s||e===s&&f===0?(h=y,y+=c):(h=f-c,f-=c);u=this.calcColor(a,e,t);i&&(u=this.calcHighlightColor(u,o));v.push(w.drawRect(b,h,this.barWidth-1,c-1,u,u))}return v.length===1?v[0]:v}});n.fn.sparkline.tristate=ot=t(n.fn.sparkline._base,h,{type:"tristate",init:function(t,i,r,u,f){var o=parseInt(r.get("barWidth"),10),s=parseInt(r.get("barSpacing"),10);ot._super.init.call(this,t,i,r,u,f);this.regionShapes={};this.barWidth=o;this.barSpacing=s;this.totalBarWidth=o+s;this.values=n.map(i,Number);this.width=u=i.length*o+(i.length-1)*s;n.isArray(r.get("colorMap"))?(this.colorMapByIndex=r.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=r.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===undefined&&(this.colorMapByValue=new e(this.colorMapByValue)));this.initTarget()},getRegion:function(n,t){return Math.floor(t/this.totalBarWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===undefined,value:this.values[n],color:this.calcColor(this.values[n],n),offset:n}},calcColor:function(n,t){var u=this.values,i=this.options,r=this.colorMapByIndex,f=this.colorMapByValue,e;return f&&(e=f.get(n))?e:r&&r.length>t?r[t]:u[t]<0?i.get("negBarColor"):u[t]>0?i.get("posBarColor"):i.get("zeroBarColor")},renderRegion:function(n,t){var e=this.values,c=this.options,o=this.target,s,u,r,h,f,i;if(s=o.pixelHeight,r=Math.round(s/2),h=n*this.totalBarWidth,e[n]<0?(f=r,u=r-1):e[n]>0?(f=0,u=r-1):(f=r-1,u=2),i=this.calcColor(e[n],n),i!==null)return t&&(i=this.calcHighlightColor(i,c)),o.drawRect(h,f,this.barWidth-1,u-1,i,i)}});n.fn.sparkline.discrete=st=t(n.fn.sparkline._base,h,{type:"discrete",init:function(t,i,r,u,f){st._super.init.call(this,t,i,r,u,f);this.regionShapes={};this.values=i=n.map(i,Number);this.min=Math.min.apply(Math,i);this.max=Math.max.apply(Math,i);this.range=this.max-this.min;this.width=u=r.get("width")==="auto"?i.length*2:this.width;this.interval=Math.floor(u/i.length);this.itemWidth=u/i.length;r.get("chartRangeMin")!==undefined&&(r.get("chartRangeClip")||r.get("chartRangeMin")<this.min)&&(this.min=r.get("chartRangeMin"));r.get("chartRangeMax")!==undefined&&(r.get("chartRangeClip")||r.get("chartRangeMax")>this.max)&&(this.max=r.get("chartRangeMax"));this.initTarget();this.target&&(this.lineHeight=r.get("lineHeight")==="auto"?Math.round(this.canvasHeight*.3):r.get("lineHeight"))},getRegion:function(n,t){return Math.floor(t/this.itemWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===undefined,value:this.values[n],offset:n}},renderRegion:function(n,t){var l=this.values,i=this.options,s=this.min,a=this.max,v=this.range,y=this.interval,p=this.target,w=this.canvasHeight,h=this.lineHeight,c=w-h,u,e,r,o;return e=f(l[n],s,a),o=n*y,u=Math.round(c-c*((e-s)/v)),r=i.get("thresholdColor")&&e<i.get("thresholdValue")?i.get("thresholdColor"):i.get("lineColor"),t&&(r=this.calcHighlightColor(r,i)),p.drawLine(o,u,o,u+h,r)}});n.fn.sparkline.bullet=v=t(n.fn.sparkline._base,{type:"bullet",init:function(n,t,i,r,u){var e,o,f;v._super.init.call(this,n,t,i,r,u);this.values=t=c(t);f=t.slice();f[0]=f[0]===null?f[2]:f[0];f[1]=t[1]===null?f[2]:f[1];e=Math.min.apply(Math,t);o=Math.max.apply(Math,t);e=i.get("base")===undefined?e<0?e:0:i.get("base");this.min=e;this.max=o;this.range=o-e;this.shapes={};this.valueShapes={};this.regiondata={};this.width=r=i.get("width")==="auto"?"4.0em":r;this.target=this.$el.simpledraw(r,u,i.get("composite"));t.length||(this.disabled=!0);this.initTarget()},getRegion:function(n,t,i){var r=this.target.getShapeAt(n,t,i);return r!==undefined&&this.shapes[r]!==undefined?this.shapes[r]:undefined},getCurrentRegionFields:function(){var n=this.currentRegion;return{fieldkey:n.substr(0,1),value:this.values[n.substr(1)],region:n}},changeHighlight:function(n){var i=this.currentRegion,r=this.valueShapes[i],t;delete this.shapes[r];switch(i.substr(0,1)){case"r":t=this.renderRange(i.substr(1),n);break;case"p":t=this.renderPerformance(n);break;case"t":t=this.renderTarget(n)}this.valueShapes[i]=t.id;this.shapes[t.id]=i;this.target.replaceWithShape(r,t)},renderRange:function(n,t){var r=this.values[n],u=Math.round(this.canvasWidth*((r-this.min)/this.range)),i=this.options.get("rangeColors")[n-2];return t&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,0,u-1,this.canvasHeight-1,i,i)},renderPerformance:function(n){var i=this.values[1],r=Math.round(this.canvasWidth*((i-this.min)/this.range)),t=this.options.get("performanceColor");return n&&(t=this.calcHighlightColor(t,this.options)),this.target.drawRect(0,Math.round(this.canvasHeight*.3),r-1,Math.round(this.canvasHeight*.4)-1,t,t)},renderTarget:function(n){var r=this.values[0],u=Math.round(this.canvasWidth*((r-this.min)/this.range)-this.options.get("targetWidth")/2),i=Math.round(this.canvasHeight*.1),f=this.canvasHeight-i*2,t=this.options.get("targetColor");return n&&(t=this.calcHighlightColor(t,this.options)),this.target.drawRect(u,i,this.options.get("targetWidth")-1,f-1,t,t)},render:function(){var i=this.values.length,r=this.target,t,n;if(v._super.render.call(this)){for(t=2;t<i;t++)n=this.renderRange(t).append(),this.shapes[n.id]="r"+t,this.valueShapes["r"+t]=n.id;this.values[1]!==null&&(n=this.renderPerformance().append(),this.shapes[n.id]="p1",this.valueShapes.p1=n.id);this.values[0]!==null&&(n=this.renderTarget().append(),this.shapes[n.id]="t0",this.valueShapes.t0=n.id);r.render()}}});n.fn.sparkline.pie=y=t(n.fn.sparkline._base,{type:"pie",init:function(t,i,r,u,f){var o=0,e;if(y._super.init.call(this,t,i,r,u,f),this.shapes={},this.valueShapes={},this.values=i=n.map(i,Number),r.get("width")==="auto"&&(this.width=this.height),i.length>0)for(e=i.length;e--;)o+=i[e];this.total=o;this.initTarget();this.radius=Math.floor(Math.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(n,t,i){var r=this.target.getShapeAt(n,t,i);return r!==undefined&&this.shapes[r]!==undefined?this.shapes[r]:undefined},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===undefined,value:this.values[n],percent:this.values[n]/this.total*100,color:this.options.get("sliceColors")[n%this.options.get("sliceColors").length],offset:n}},changeHighlight:function(n){var t=this.currentRegion,i=this.renderSlice(t,n),r=this.valueShapes[t];delete this.shapes[r];this.target.replaceWithShape(r,i);this.valueShapes[t]=i.id;this.shapes[i.id]=t},renderSlice:function(n,t){for(var v=this.target,r=this.options,o=this.radius,y=r.get("borderWidth"),s=r.get("offset"),p=2*Math.PI,h=this.values,c=this.total,u=s?2*Math.PI*(s/360):0,l,f,e,a=h.length,i=0;i<a;i++){if(l=u,f=u,c>0&&(f=u+p*(h[i]/c)),n===i)return e=r.get("sliceColors")[i%r.get("sliceColors").length],t&&(e=this.calcHighlightColor(e,r)),v.drawPieSlice(o,o,o-y,l,f,undefined,e);u=f}},render:function(){var u=this.target,f=this.values,e=this.options,t=this.radius,i=e.get("borderWidth"),r,n;if(y._super.render.call(this)){for(i&&u.drawCircle(t,t,Math.floor(t-i/2),e.get("borderColor"),undefined,i).append(),n=f.length;n--;)f[n]&&(r=this.renderSlice(n).append(),this.valueShapes[n]=r.id,this.shapes[r.id]=n);u.render()}}});n.fn.sparkline.box=p=t(n.fn.sparkline._base,{type:"box",init:function(t,i,r,u,f){p._super.init.call(this,t,i,r,u,f);this.values=n.map(i,Number);this.width=r.get("width")==="auto"?"4.0em":u;this.initTarget();this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var n=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==undefined&&n.push({field:"lo",value:this.loutlier}),this.routlier!==undefined&&n.push({field:"ro",value:this.routlier}),this.lwhisker!==undefined&&n.push({field:"lw",value:this.lwhisker}),this.rwhisker!==undefined&&n.push({field:"rw",value:this.rwhisker}),n},render:function(){var e=this.target,t=this.values,k=t.length,n=this.options,d=this.canvasWidth,i=this.canvasHeight,u=n.get("chartRangeMin")===undefined?Math.min.apply(Math,t):n.get("chartRangeMin"),nt=n.get("chartRangeMax")===undefined?Math.max.apply(Math,t):n.get("chartRangeMax"),f=0,o,y,g,c,v,l,h,w,a,b,r;if(p._super.render.call(this)){if(n.get("raw"))n.get("showOutliers")&&t.length>5?(y=t[0],o=t[1],c=t[2],v=t[3],l=t[4],h=t[5],w=t[6]):(o=t[0],c=t[1],v=t[2],l=t[3],h=t[4]);else if(t.sort(function(n,t){return n-t}),c=s(t,1),v=s(t,2),l=s(t,3),g=l-c,n.get("showOutliers")){for(o=h=undefined,a=0;a<k;a++)o===undefined&&t[a]>c-g*n.get("outlierIQR")&&(o=t[a]),t[a]<l+g*n.get("outlierIQR")&&(h=t[a]);y=t[0];w=t[k-1]}else o=t[0],h=t[k-1];this.quartiles=[c,v,l];this.lwhisker=o;this.rwhisker=h;this.loutlier=y;this.routlier=w;r=d/(nt-u+1);n.get("showOutliers")&&(f=Math.ceil(n.get("spotRadius")),d-=2*Math.ceil(n.get("spotRadius")),r=d/(nt-u+1),y<o&&e.drawCircle((y-u)*r+f,i/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append(),w>h&&e.drawCircle((w-u)*r+f,i/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append());e.drawRect(Math.round((c-u)*r+f),Math.round(i*.1),Math.round((l-c)*r),Math.round(i*.8),n.get("boxLineColor"),n.get("boxFillColor")).append();e.drawLine(Math.round((o-u)*r+f),Math.round(i/2),Math.round((c-u)*r+f),Math.round(i/2),n.get("lineColor")).append();e.drawLine(Math.round((o-u)*r+f),Math.round(i/4),Math.round((o-u)*r+f),Math.round(i-i/4),n.get("whiskerColor")).append();e.drawLine(Math.round((h-u)*r+f),Math.round(i/2),Math.round((l-u)*r+f),Math.round(i/2),n.get("lineColor")).append();e.drawLine(Math.round((h-u)*r+f),Math.round(i/4),Math.round((h-u)*r+f),Math.round(i-i/4),n.get("whiskerColor")).append();e.drawLine(Math.round((v-u)*r+f),Math.round(i*.1),Math.round((v-u)*r+f),Math.round(i*.9),n.get("medianColor")).append();n.get("target")&&(b=Math.ceil(n.get("spotRadius")),e.drawLine(Math.round((n.get("target")-u)*r+f),Math.round(i/2-b),Math.round((n.get("target")-u)*r+f),Math.round(i/2+b),n.get("targetColor")).append(),e.drawLine(Math.round((n.get("target")-u)*r+f-b),Math.round(i/2),Math.round((n.get("target")-u)*r+f+b),Math.round(i/2),n.get("targetColor")).append());e.render()}}}),function(){document.namespaces&&!document.namespaces.v?(n.fn.sparkline.hasVML=!0,document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")):n.fn.sparkline.hasVML=!1;var t=document.createElement("canvas");n.fn.sparkline.hasCanvas=!!(t.getContext&&t.getContext("2d"))}();lt=t({init:function(n,t,i,r){this.target=n;this.id=t;this.type=i;this.args=r},append:function(){return this.target.appendShape(this),this}});w=t({_pxregex:/(\d+)(px)?\s*$/i,init:function(t,i,r){t&&(this.width=t,this.height=i,this.target=r,this.lastShapeId=null,r[0]&&(r=r[0]),n.data(r,"_jqs_vcanvas",this))},drawLine:function(n,t,i,r,u,f){return this.drawShape([[n,t],[i,r]],u,f)},drawShape:function(n,t,i,r){return this._genShape("Shape",[n,t,i,r])},drawCircle:function(n,t,i,r,u,f){return this._genShape("Circle",[n,t,i,r,u,f])},drawPieSlice:function(n,t,i,r,u,f,e){return this._genShape("PieSlice",[n,t,i,r,u,f,e])},drawRect:function(n,t,i,r,u,f){return this._genShape("Rect",[n,t,i,r,u,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(t,i){n(i).html(t)},_calculatePixelDims:function(t,i,r){var u;u=this._pxregex.exec(i);this.pixelHeight=u?u[1]:n(r).height();u=this._pxregex.exec(t);this.pixelWidth=u?u[1]:n(r).width()},_genShape:function(n,t){var i=vt++;return t.unshift(i),new lt(this,i,n,t)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});b=t(w,{init:function(t,i,r,u){b._super.init.call(this,t,i,r);this.canvas=document.createElement("canvas");r[0]&&(r=r[0]);n.data(r,"_jqs_vcanvas",this);n(this.canvas).css({display:"inline-block",width:t,height:i,verticalAlign:"top"});this._insert(this.canvas,r);this._calculatePixelDims(t,i,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=u;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=undefined;n(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(n,t,i){var r=this.canvas.getContext("2d");return n!==undefined&&(r.strokeStyle=n),r.lineWidth=i===undefined?1:i,t!==undefined&&(r.fillStyle=t),r},reset:function(){var n=this._getContext();n.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=undefined},_drawShape:function(n,t,i,r,u){var f=this._getContext(i,r,u),e,o;for(f.beginPath(),f.moveTo(t[0][0]+.5,t[0][1]+.5),e=1,o=t.length;e<o;e++)f.lineTo(t[e][0]+.5,t[e][1]+.5);i!==undefined&&f.stroke();r!==undefined&&f.fill();this.targetX!==undefined&&this.targetY!==undefined&&f.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawCircle:function(n,t,i,r,u,f,e){var o=this._getContext(u,f,e);o.beginPath();o.arc(t,i,r,0,2*Math.PI,!1);this.targetX!==undefined&&this.targetY!==undefined&&o.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n);u!==undefined&&o.stroke();f!==undefined&&o.fill()},_drawPieSlice:function(n,t,i,r,u,f,e,o){var s=this._getContext(e,o);s.beginPath();s.moveTo(t,i);s.arc(t,i,r,u,f,!1);s.lineTo(t,i);s.closePath();e!==undefined&&s.stroke();o&&s.fill();this.targetX!==undefined&&this.targetY!==undefined&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t+r,i],[t+r,i+u],[t,i+u],[t,i]],f,e)},appendShape:function(n){return this.shapes[n.id]=n,this.shapeseq.push(n.id),this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var r=this.shapeseq,i;for(this.shapes[t.id]=t,i=r.length;i--;)r[i]==n&&(r[i]=t.id);delete this.shapes[n]},replaceWithShapes:function(n,t){for(var r=this.shapeseq,f={},u,e,i=n.length;i--;)f[n[i]]=!0;for(i=r.length;i--;)u=r[i],f[u]&&(r.splice(i,1),delete this.shapes[u],e=i);for(i=t.length;i--;)r.splice(e,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(n,t){for(var r=this.shapeseq,i=r.length;i--;)if(r[i]===n){r.splice(i+1,0,t.id);this.shapes[t.id]=t;return}},removeShapeId:function(n){for(var i=this.shapeseq,t=i.length;t--;)if(i[t]===n){i.splice(t,1);break}delete this.shapes[n]},getShapeAt:function(n,t,i){return this.targetX=t,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var i=this.shapeseq,u=this.shapes,f=i.length,e=this._getContext(),r,t,n;for(e.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;n<f;n++)r=i[n],t=u[r],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}});k=t(w,{init:function(t,i,r){var u;k._super.init.call(this,t,i,r);r[0]&&(r=r[0]);n.data(r,"_jqs_vcanvas",this);this.canvas=document.createElement("span");n(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:i,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,r);this._calculatePixelDims(t,i,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;u='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"><\/v:group>';this.canvas.insertAdjacentHTML("beforeEnd",u);this.group=n(this.canvas).children()[0];this.rendered=!1;this.prerender=""},_drawShape:function(n,t,i,r,u){for(var f=[],o,s,h,c,e=0,l=t.length;e<l;e++)f[e]=""+t[e][0]+","+t[e][1];return o=f.splice(0,1),u=u===undefined?1:u,s=i===undefined?' stroked="false" ':' strokeWeight="'+u+'px" strokeColor="'+i+'" ',h=r===undefined?' filled="false"':' fillColor="'+r+'" filled="true" ',c=f[0]===f[f.length-1]?"x ":"",'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+s+h+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+o+" l "+f.join(", ")+" "+c+'e"> <\/v:shape>'},_drawCircle:function(n,t,i,r,u,f,e){var o,s;return t-=r,i-=r,o=u===undefined?' stroked="false" ':' strokeWeight="'+e+'px" strokeColor="'+u+'" ',s=f===undefined?' filled="false"':' fillColor="'+f+'" filled="true" ','<v:oval  id="jqsshape'+n+'" '+o+s+' style="position:absolute;top:'+i+"px; left:"+t+"px; width:"+r*2+"px; height:"+r*2+'px"><\/v:oval>'},_drawPieSlice:function(n,t,i,r,u,f,e,o){var a,s,h,c,l,v,y;if(u===f)return"";if(f-u==2*Math.PI&&(u=0,f=2*Math.PI),s=t+Math.round(Math.cos(u)*r),h=i+Math.round(Math.sin(u)*r),c=t+Math.round(Math.cos(f)*r),l=i+Math.round(Math.sin(f)*r),s===c&&h===l){if(f-u<Math.PI)return"";s=c=t+r;h=l=i}return s===c&&h===l&&f-u<Math.PI?"":(a=[t-r,i-r,t+r,i+r,s,h,c,l],v=e===undefined?' stroked="false" ':' strokeWeight="1px" strokeColor="'+e+'" ',y=o===undefined?' filled="false"':' fillColor="'+o+'" filled="true" ','<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+v+y+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+t+","+i+" wa "+a.join(", ")+' x e"> <\/v:shape>')},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t,i+u],[t+r,i+u],[t+r,i],[t,i]],f,e)},reset:function(){this.group.innerHTML=""},appendShape:function(n){var t=this["_draw"+n.type].apply(this,n.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=n.id,n.id},replaceWithShape:function(t,i){var r=n("#jqsshape"+t),u=this["_draw"+i.type].apply(this,i.args);r[0].outerHTML=u},replaceWithShapes:function(t,i){for(var f=n("#jqsshape"+t[0]),u="",e=i.length,r=0;r<e;r++)u+=this["_draw"+i[r].type].apply(this,i[r].args);for(f[0].outerHTML=u,r=1;r<t.length;r++)n("#jqsshape"+t[r]).remove()},insertAfterShape:function(t,i){var r=n("#jqsshape"+t),u=this["_draw"+i.type].apply(this,i.args);r[0].insertAdjacentHTML("afterEnd",u)},removeShapeId:function(t){var i=n("#jqsshape"+t);this.group.removeChild(i[0])},getShapeAt:function(n){return n.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})});!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self);t.ProgressBar=n()}}(function(){var n;return function t(n,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!n[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};n[f][0].call(s.exports,function(t){var i=n[f][1][t];return u(i?i:t)},s,s.exports,t,n,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(t,i,r){
/*! shifty - v1.2.2 - 2014-10-09 - http://jeremyckahn.github.io/shifty */
(function(t){
/*!
 * Shifty Core
 * By Jeremy Kahn - jeremyckahn@gmail.com
 */
typeof SHIFTY_DEBUG_NOW=="undefined"&&(SHIFTY_DEBUG_NOW=function(){return+new Date});var u=function(){"use strict";function s(){}function f(n,t){for(var i in n)Object.hasOwnProperty.call(n,i)&&t(i)}function h(n,t){return f(t,function(i){n[i]=t[i]}),n}function w(n,t){f(t,function(i){typeof n[i]=="undefined"&&(n[i]=t[i])})}function b(n,t,i,r,u,f,e){var s=(n-f)/u;for(var o in t)t.hasOwnProperty(o)&&(t[o]=k(i[o],r[o],v[e[o]],s));return t}function k(n,t,i,r){return n+(t-n)*i(r)}function o(n,t){var i=u.prototype.filter,r=n._filterArgs;f(i,function(u){typeof i[u][t]!="undefined"&&i[u][t].apply(n,r)})}function d(n,t,i,r,u,f,s,h,v){c=t+i;l=Math.min(e(),c);a=l>=c;n.isPlaying()&&!a?(v(n._timeoutHandler,tt),o(n,"beforeTween"),b(l,r,u,f,i,t,s),o(n,"afterTween"),h(r)):a&&(h(f),n.stop(!0))}function g(n,t){var i={};return typeof t=="string"?f(n,function(n){i[n]=t}):f(n,function(n){i[n]||(i[n]=t[n]||p)}),i}function u(n,t){this._currentState=n||{};this._configured=!1;this._scheduleFunction=y;typeof t!="undefined"&&this.setConfig(t)}var v,y,p="linear",nt=500,tt=1e3/60,it=Date.now?Date.now:function(){return+new Date},e=SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:it,c,l,a;y=typeof window!="undefined"?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;
/*!
   * Handy shortcut for doing a for-in loop. This is not a "normal" each
   * function, it is optimized for Shifty.  The iterator function only receives
   * the property name, not the value.
   * @param {Object} obj
   * @param {Function(string)} fn
   */
/*!
   * Perform a shallow copy of Object properties.
   * @param {Object} targetObject The object to copy into
   * @param {Object} srcObject The object to copy from
   * @return {Object} A reference to the augmented `targetObj` Object
   */
/*!
   * Copies each property from src onto target, but only if the property to
   * copy to target is undefined.
   * @param {Object} target Missing properties in this Object are filled in
   * @param {Object} src
   */
/*!
   * Calculates the interpolated tween values of an Object for a given
   * timestamp.
   * @param {Number} forPosition The position to compute the state for.
   * @param {Object} currentState Current state properties.
   * @param {Object} originalState: The original state properties the Object is
   * tweening from.
   * @param {Object} targetState: The destination state properties the Object
   * is tweening to.
   * @param {number} duration: The length of the tween in milliseconds.
   * @param {number} timestamp: The UNIX epoch time at which the tween began.
   * @param {Object} easing: This Object's keys must correspond to the keys in
   * targetState.
   */
/*!
   * Tweens a single property.
   * @param {number} start The value that the tween started from.
   * @param {number} end The value that the tween should end at.
   * @param {Function} easingFunc The easing curve to apply to the tween.
   * @param {number} position The normalized position (between 0.0 and 1.0) to
   * calculate the midpoint of 'start' and 'end' against.
   * @return {number} The tweened value.
   */
/*!
   * Applies a filter to Tweenable instance.
   * @param {Tweenable} tweenable The `Tweenable` instance to call the filter
   * upon.
   * @param {String} filterName The name of the filter to apply.
   */
/*!
   * Handles the update logic for one step of a tween.
   * @param {Tweenable} tweenable
   * @param {number} timestamp
   * @param {number} duration
   * @param {Object} currentState
   * @param {Object} originalState
   * @param {Object} targetState
   * @param {Object} easing
   * @param {Function} step
   * @param {Function(Function,number)}} schedule
   */
/*!
   * Creates a usable easing Object from either a string or another easing
   * Object.  If `easing` is an Object, then this function clones it and fills
   * in the missing properties with "linear".
   * @param {Object} fromTweenParams
   * @param {Object|string} easing
   */
u.prototype.tween=function(n){return this._isTweening?this:(n===undefined&&this._configured||this.setConfig(n),this._start(this.get()),this.resume())};u.prototype.setConfig=function(n){n=n||{};this._configured=!0;this._pausedAtTime=null;this._start=n.start||s;this._step=n.step||s;this._finish=n.finish||s;this._duration=n.duration||nt;this._currentState=n.from||this.get();this._originalState=this.get();this._targetState=n.to||this.get();this._timestamp=e();var t=this._currentState,i=this._targetState;return w(i,t),this._easing=g(t,n.easing||p),this._filterArgs=[t,this._originalState,i,this._easing],o(this,"tweenCreated"),this};u.prototype.get=function(){return h({},this._currentState)};u.prototype.set=function(n){this._currentState=n};u.prototype.pause=function(){return this._pausedAtTime=e(),this._isPaused=!0,this};u.prototype.resume=function(){this._isPaused&&(this._timestamp+=e()-this._pausedAtTime);this._isPaused=!1;this._isTweening=!0;var n=this;return this._timeoutHandler=function(){d(n,n._timestamp,n._duration,n._currentState,n._originalState,n._targetState,n._easing,n._step,n._scheduleFunction)},this._timeoutHandler(),this};u.prototype.stop=function(n){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=s,n&&(h(this._currentState,this._targetState),o(this,"afterTweenEnd"),this._finish.call(this,this._currentState)),this};u.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused};u.prototype.setScheduleFunction=function(n){this._scheduleFunction=n};u.prototype.dispose=function(){for(var n in this)this.hasOwnProperty(n)&&delete this[n]};
/*!
   * Filters are used for transforming the properties of a tween at various
   * points in a Tweenable's life cycle.  See the README for more info on this.
   */
u.prototype.filter={};
/*!
   * This object contains all of the tweens available to Shifty.  It is extendible - simply attach properties to the Tweenable.prototype.formula Object following the same format at linear.
   *
   * `pos` should be a normalized `number` (between 0 and 1).
   */
return u.prototype.formula={linear:function(n){return n}},v=u.prototype.formula,h(u,{now:e,each:f,tweenProps:b,tweenProp:k,applyFilter:o,shallowCopy:h,defaults:w,composeEasingObject:g}),typeof SHIFTY_DEBUG_NOW=="function"&&(t.timeoutHandler=d),typeof r=="object"?i.exports=u:typeof n=="function"&&n.amd?n(function(){return u}):typeof t.Tweenable=="undefined"&&(t.Tweenable=u),u}();
/*!
 * All equations are adapted from Thomas Fuchs' [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/penner.js).
 *
 * Based on Easing Equations (c) 2003 [Robert Penner](http://www.robertpenner.com/), all rights reserved. This work is [subject to terms](http://www.robertpenner.com/easing_terms_of_use.html).
 */
/*!
 *  TERMS OF USE - EASING EQUATIONS
 *  Open source under the BSD License.
 *  Easing Equations (c) 2003 Robert Penner, all rights reserved.
 */
(function(){u.shallowCopy(u.prototype.formula,{easeInQuad:function(n){return Math.pow(n,2)},easeOutQuad:function(n){return-(Math.pow(n-1,2)-1)},easeInOutQuad:function(n){return(n/=.5)<1?.5*Math.pow(n,2):-.5*((n-=2)*n-2)},easeInCubic:function(n){return Math.pow(n,3)},easeOutCubic:function(n){return Math.pow(n-1,3)+1},easeInOutCubic:function(n){return(n/=.5)<1?.5*Math.pow(n,3):.5*(Math.pow(n-2,3)+2)},easeInQuart:function(n){return Math.pow(n,4)},easeOutQuart:function(n){return-(Math.pow(n-1,4)-1)},easeInOutQuart:function(n){return(n/=.5)<1?.5*Math.pow(n,4):-.5*((n-=2)*Math.pow(n,3)-2)},easeInQuint:function(n){return Math.pow(n,5)},easeOutQuint:function(n){return Math.pow(n-1,5)+1},easeInOutQuint:function(n){return(n/=.5)<1?.5*Math.pow(n,5):.5*(Math.pow(n-2,5)+2)},easeInSine:function(n){return-Math.cos(n*(Math.PI/2))+1},easeOutSine:function(n){return Math.sin(n*(Math.PI/2))},easeInOutSine:function(n){return-.5*(Math.cos(Math.PI*n)-1)},easeInExpo:function(n){return n===0?0:Math.pow(2,10*(n-1))},easeOutExpo:function(n){return n===1?1:-Math.pow(2,-10*n)+1},easeInOutExpo:function(n){return n===0?0:n===1?1:(n/=.5)<1?.5*Math.pow(2,10*(n-1)):.5*(-Math.pow(2,-10*--n)+2)},easeInCirc:function(n){return-(Math.sqrt(1-n*n)-1)},easeOutCirc:function(n){return Math.sqrt(1-Math.pow(n-1,2))},easeInOutCirc:function(n){return(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},easeOutBounce:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInBack:function(n){var t=1.70158;return n*n*((t+1)*n-t)},easeOutBack:function(n){var t=1.70158;return(n=n-1)*n*((t+1)*n+t)+1},easeInOutBack:function(n){var t=1.70158;return(n/=.5)<1?.5*n*n*(((t*=1.525)+1)*n-t):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},elastic:function(n){return-1*Math.pow(4,-8*n)*Math.sin((n*6-1)*2*Math.PI/2)+1},swingFromTo:function(n){var t=1.70158;return(n/=.5)<1?.5*n*n*(((t*=1.525)+1)*n-t):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},swingFrom:function(n){var t=1.70158;return n*n*((t+1)*n-t)},swingTo:function(n){var t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},bounce:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bouncePast:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?2-(7.5625*(n-=1.5/2.75)*n+.75):n<2.5/2.75?2-(7.5625*(n-=2.25/2.75)*n+.9375):2-(7.5625*(n-=2.625/2.75)*n+.984375)},easeFromTo:function(n){return(n/=.5)<1?.5*Math.pow(n,4):-.5*((n-=2)*Math.pow(n,3)-2)},easeFrom:function(n){return Math.pow(n,4)},easeTo:function(n){return Math.pow(n,.25)}})})();
/*!
 * The Bezier magic in this file is adapted/copied almost wholesale from
 * [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/cubic-bezier.js),
 * which was adapted from Apple code (which probably came from
 * [here](http://opensource.apple.com/source/WebCore/WebCore-955.66/platform/graphics/UnitBezier.h)).
 * Special thanks to Apple and Thomas Fuchs for much of this code.
 */
/*!
 *  Copyright (c) 2006 Apple Computer, Inc. All rights reserved.
 *
 *  Redistribution and use in source and binary forms, with or without
 *  modification, are permitted provided that the following conditions are met:
 *
 *  1. Redistributions of source code must retain the above copyright notice,
 *  this list of conditions and the following disclaimer.
 *
 *  2. Redistributions in binary form must reproduce the above copyright notice,
 *  this list of conditions and the following disclaimer in the documentation
 *  and/or other materials provided with the distribution.
 *
 *  3. Neither the name of the copyright holder(s) nor the names of any
 *  contributors may be used to endorse or promote products derived from
 *  this software without specific prior written permission.
 *
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 *  "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 *  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 *  ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
 *  FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 *  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 *  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 *  ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 *  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 *  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
(function(){function n(n,t,i,r,u,f){function v(n){return((h*n+o)*n+e)*n}function y(n){return((a*n+c)*n+s)*n}function p(n){return(3*h*n+2*o)*n+e}function w(n){return 1/(200*n)}function b(n,t){return y(k(n,t))}function l(n){return n>=0?n:0-n}function k(n,t){for(var r,u,f,e,i=n,o=0;o<8;o++){if(f=v(i)-n,l(f)<t)return i;if(e=p(i),l(e)<1e-6)break;i=i-f/e}if(r=0,u=1,i=n,i<r)return r;if(i>u)return u;while(r<u){if(f=v(i),l(f-n)<t)return i;n>f?r=i:u=i;i=(u-r)*.5+r}return i}var h=0,o=0,e=0,a=0,c=0,s=0;return e=3*t,o=3*(r-t)-e,h=1-e-o,s=3*i,c=3*(u-i)-s,a=1-s-c,b(n,w(f))}function t(t,i,r,u){return function(f){return n(f,t,i,r,u,1)}}
/*!
   *  getCubicBezierTransition(x1, y1, x2, y2) -> Function
   *
   *  Generates a transition easing function that is compatible
   *  with WebKit's CSS transitions `-webkit-transition-timing-function`
   *  CSS property.
   *
   *  The W3C has more information about
   *  <a href="http://www.w3.org/TR/css3-transitions/#transition-timing-function_tag">
   *  CSS3 transition timing functions</a>.
   *
   *  @param {number} x1
   *  @param {number} y1
   *  @param {number} x2
   *  @param {number} y2
   *  @return {function}
   */
u.setBezierFunction=function(n,i,r,f,e){var o=t(i,r,f,e);return o.x1=i,o.y1=r,o.x2=f,o.y2=e,u.prototype.formula[n]=o};u.unsetBezierFunction=function(n){delete u.prototype.formula[n]}})(),function(){function t(n,t,i,r,f){return u.tweenProps(r,t,n,i,1,0,f)}var n=new u;n._filterArgs=[];u.interpolate=function(i,r,f,e){var s=u.shallowCopy({},i),h=u.composeEasingObject(i,e||"linear"),o,c;return n.set({}),o=n._filterArgs,o.length=0,o[0]=s,o[1]=i,o[2]=r,o[3]=h,u.applyFilter(n,"tweenCreated"),u.applyFilter(n,"beforeTween"),c=t(i,s,r,f,h),u.applyFilter(n,"afterTween"),c}}();
/*!*/
(function(n){
/*!
   * @typedef {{
   *   formatString: string
   *   chunkNames: Array.<string>
   * }}
   */
function b(n,t){f.length=0;for(var r=n.length,i=0;i<r;i++)f.push("_"+t+"_"+i);return f}function k(n){var t=n.match(y);return t?(t.length===1||n[0].match(v))&&t.unshift(""):t=["",""],t.join(r)}function e(t){n.each(t,function(n){var i=t[n];typeof i=="string"&&i.match(c)&&(t[n]=d(i))})}function d(n){return l(c,n,g)}function g(n){var t=nt(n);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function nt(n){return n=n.replace(/#/,""),n.length===3&&(n=n.split(""),n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),i[0]=o(n.substr(0,2)),i[1]=o(n.substr(2,2)),i[2]=o(n.substr(4,2)),i}function o(n){return parseInt(n,16)}function l(n,t,i){var u=t.match(n),f=t.replace(n,r),o,s,e;if(u)for(o=u.length,e=0;e<o;e++)s=u.shift(),f=f.replace(r,i(s));return f}function tt(n){return l(p,n,it)}function it(n){for(var r=n.match(t),f=r.length,u=n.match(w)[0],i=0;i<f;i++)u+=parseInt(r[i],10)+",";return u.slice(0,-1)+")"}function rt(t){var i={};return n.each(t,function(n){var r=t[n],u;typeof r=="string"&&(u=a(r),i[n]={formatString:k(r),chunkNames:b(u,n)})}),i}function s(t,i){n.each(i,function(n){for(var f=t[n],u=a(f),e=u.length,r=0;r<e;r++)t[i[n].chunkNames[r]]=+u[r];delete t[n]})}function h(t,i){n.each(i,function(n){var r=t[n],u=ut(t,i[n].chunkNames),f=ft(u,i[n].chunkNames);r=et(i[n].formatString,f);t[n]=tt(r)})}function ut(n,t){for(var u={},i,f=t.length,r=0;r<f;r++)i=t[r],u[i]=n[i],delete n[i];return u}function ft(n,t){var r,i;for(u.length=0,r=t.length,i=0;i<r;i++)u.push(n[t[i]]);return u}function et(n,t){for(var i=n,f=t.length,u=0;u<f;u++)i=i.replace(r,+t[u].toFixed(4));return i}function a(n){return n.match(t)}function ot(t,i){n.each(i,function(n){for(var e=i[n],f=e.chunkNames,o=f.length,u=t[n].split(" "),s=u[u.length-1],r=0;r<o;r++)t[f[r]]=u[r]||s;delete t[n]})}function st(t,i){n.each(i,function(n){for(var e=i[n],u=e.chunkNames,o=u.length,f="",r=0;r<o;r++)f+=" "+t[u[r]],delete t[u[r]];t[n]=f.substr(1)})}var v=/(\d|\-|\.)/,y=/([^\-0-9\.]+)/g,t=/[0-9.\-]+/g,p=new RegExp("rgb\\("+t.source+/,\s*/.source+t.source+/,\s*/.source+t.source+"\\)","g"),w=/^.*\(/,c=/#([0-9]|[a-f]){3,6}/gi,r="VAL",f=[],i,u;
/*!
   * @param {Array.number} rawValues
   * @param {string} prefix
   *
   * @return {Array.<string>}
   */
/*!
   * @param {string} formattedString
   *
   * @return {string}
   */
/*!
   * Convert all hex color values within a string to an rgb string.
   *
   * @param {Object} stateObject
   *
   * @return {Object} The modified obj
   */
/*!
   * @param {string} str
   *
   * @return {string}
   */
/*!
   * @param {string} hexString
   *
   * @return {string}
   */
i=[];
/*!
   * Convert a hexadecimal string to an array with three items, one each for
   * the red, blue, and green decimal values.
   *
   * @param {string} hex A hexadecimal string.
   *
   * @returns {Array.<number>} The converted Array of RGB values if `hex` is a
   * valid string, or an Array of three 0's.
   */
/*!
   * Convert a base-16 number to base-10.
   *
   * @param {Number|String} hex The value to convert
   *
   * @returns {Number} The base-10 equivalent of `hex`.
   */
/*!
   * Runs a filter operation on all chunks of a string that match a RegExp
   *
   * @param {RegExp} pattern
   * @param {string} unfilteredString
   * @param {function(string)} filter
   *
   * @return {string}
   */
/*!
   * Check for floating point values within rgb strings and rounds them.
   *
   * @param {string} formattedString
   *
   * @return {string}
   */
/*!
   * @param {string} rgbChunk
   *
   * @return {string}
   */
/*!
   * @param {Object} stateObject
   *
   * @return {Object} An Object of formatManifests that correspond to
   * the string properties of stateObject
   */
/*!
   * @param {Object} stateObject
   * @param {Object} formatManifests
   */
/*!
   * @param {Object} stateObject
   * @param {Object} formatManifests
   */
/*!
   * @param {Object} stateObject
   * @param {Array.<string>} chunkNames
   *
   * @return {Object} The extracted value chunks.
   */
u=[];
/*!
   * @param {Object} stateObject
   * @param {Array.<string>} chunkNames
   *
   * @return {Array.<number>}
   */
/*!
   * @param {string} formatString
   * @param {Array.<number>} rawValues
   *
   * @return {string}
   */
/*!
   * Note: It's the duty of the caller to convert the Array elements of the
   * return value into numbers.  This is a performance optimization.
   *
   * @param {string} formattedString
   *
   * @return {Array.<string>|null}
   */
/*!
   * @param {Object} easingObject
   * @param {Object} tokenData
   */
/*!
   * @param {Object} easingObject
   * @param {Object} tokenData
   */
n.prototype.filter.token={tweenCreated:function(n,t,i){e(n);e(t);e(i);this._tokenData=rt(n)},beforeTween:function(n,t,i,r){ot(r,this._tokenData);s(n,this._tokenData);s(t,this._tokenData);s(i,this._tokenData)},afterTween:function(n,t,i,r){h(n,this._tokenData);h(t,this._tokenData);h(i,this._tokenData);st(r,this._tokenData)}}})(u)})(this)},{}],2:[function(n,t){var r=n("./progress"),u=n("./utils"),i=function(){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}";r.apply(this,arguments)};i.prototype=new r;i.prototype.constructor=i;i.prototype._pathString=function(n){var t=50-n.strokeWidth/2;return u.render(this._pathTemplate,{radius:t,"2radius":t*2})};i.prototype._trailString=function(n){return this._pathString(n)};t.exports=i},{"./progress":6,"./utils":8}],3:[function(n,t){var r=n("./progress"),u=n("./utils"),i=function(){this._pathTemplate="M 0,{center} L 100,{center}";r.apply(this,arguments)};i.prototype=new r;i.prototype.constructor=i;i.prototype._initializeSvg=function(n,t){n.setAttribute("viewBox","0 0 100 "+t.strokeWidth);n.setAttribute("preserveAspectRatio","none")};i.prototype._pathString=function(n){return u.render(this._pathTemplate,{center:n.strokeWidth/2})};i.prototype._trailString=function(n){return this._pathString(n)};t.exports=i},{"./progress":6,"./utils":8}],4:[function(n,t){var i=n("./line"),r=n("./circle"),u=n("./square"),f=n("./path");t.exports={Line:i,Circle:r,Square:u,Path:f}},{"./circle":2,"./line":3,"./path":5,"./square":7}],5:[function(n,t){var u=n("shifty"),r=n("./utils"),f={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"},i=function(n,t){t=r.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},t);this._path=n;this._opts=t;this._tweenable=null;var i=this._path.getTotalLength();this._path.style.strokeDasharray=i+" "+i;this._path.style.strokeDashoffset=i};i.prototype.value=function(){var r=window.getComputedStyle(this._path,null),n=r.getPropertyValue("stroke-dashoffset"),t,i;return n=parseFloat(n,10),t=this._path.getTotalLength(),i=1-n/t,parseFloat(i.toFixed(10),10)};i.prototype.set=function(n){this.stop();var t=this._path.getTotalLength();this._path.style.strokeDashoffset=t-n*t};i.prototype.stop=function(){this._stopTween();var n=window.getComputedStyle(this._path,null),t=n.getPropertyValue("stroke-dashoffset");this._path.style.strokeDashoffset=t};i.prototype.animate=function(n,t,i){var s,h,e,o,c,f;t=t||{};r.isFunction(t)&&(i=t,t={});s=t;h=r.extend({},this._opts);t=r.extend(h,t);e=this._easing(t.easing);o=this._resolveFromAndTo(n,e,s);this.stop();this._path.getBoundingClientRect();c=window.getComputedStyle(this._path,null);f=c.getPropertyValue("stroke-dashoffset");f=parseFloat(f,10);var l=this._path.getTotalLength(),v=l-n*l,a=this;this._tweenable=new u;this._tweenable.tween({from:r.extend({offset:f},o.from),to:r.extend({offset:v},o.to),duration:t.duration,easing:e,step:function(n){a._path.style.strokeDashoffset=n.offset;t.step(n,t.attachment)},finish:function(n){a._path.style.strokeDashoffset=n.offset;t.step(n,t.attachment);r.isFunction(i)&&i()}})};i.prototype._resolveFromAndTo=function(n,t,i){if(i.from&&i.to)return{from:i.from,to:i.to};var r=u.interpolate(this._opts.from,this._opts.to,this.value(),t),f=u.interpolate(this._opts.from,this._opts.to,n,t);return{from:r,to:f}};i.prototype._stopTween=function(){this._tweenable!==null&&(this._tweenable.stop(),this._tweenable.dispose(),this._tweenable=null)};i.prototype._easing=function(n){return f.hasOwnProperty(n)?f[n]:n};t.exports=i},{"./utils":8,shifty:1}],6:[function(n,t){var f=n("./path"),u=n("./utils"),r="Object is destroyed",e="Constructor was called without new keyword",i=function i(n,t){var r,o,s;if(!(this instanceof i))throw new Error(e);arguments.length!==0&&(r=this._createSvgView(t),o=u.isString(n)?document.querySelector(n):n,o.appendChild(r.svg),s=u.extend({attachment:this},t),this._progressPath=new f(r.path,s),this.svg=r.svg,this.path=r.path,this.trail=r.trail)};i.prototype.animate=function(n,t,i){if(this._progressPath===null)throw new Error(r);this._progressPath.animate(n,t,i)};i.prototype.stop=function(){if(this._progressPath===null)throw new Error(r);this._progressPath.stop()};i.prototype.destroy=function(){if(this._progressPath===null)throw new Error(r);this.stop();this.svg.parentNode.removeChild(this.svg);this.svg=null;this.path=null;this.trail=null;this._progressPath=null};i.prototype.set=function(n){if(this._progressPath===null)throw new Error(r);this._progressPath.set(n)};i.prototype.value=function(){if(this._progressPath===null)throw new Error(r);return this._progressPath.value()};i.prototype._createSvgView=function(n){var t,i,r;return n=u.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null},n),t=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._initializeSvg(t,n),i=null,(n.trailColor||n.trailWidth)&&(i=this._createTrail(n),t.appendChild(i)),r=this._createPath(n),t.appendChild(r),{svg:t,path:r,trail:i}};i.prototype._initializeSvg=function(n){n.setAttribute("viewBox","0 0 100 100")};i.prototype._createPath=function(n){var t=this._pathString(n);return this._createPathElement(t,n)};i.prototype._createTrail=function(n){var i=this._trailString(n),t=u.extend({},n);return t.trailColor||(t.trailColor="#eee"),t.trailWidth||(t.trailWidth=t.strokeWidth),t.color=t.trailColor,t.strokeWidth=t.trailWidth,t.fill=null,this._createPathElement(i,t)};i.prototype._createPathElement=function(n,t){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",n),i.setAttribute("stroke",t.color),i.setAttribute("stroke-width",t.strokeWidth),t.fill?i.setAttribute("fill",t.fill):i.setAttribute("fill-opacity","0"),i};i.prototype._pathString=function(){throw new Error("Override this function for each progress bar");};i.prototype._trailString=function(){throw new Error("Override this function for each progress bar");};t.exports=i},{"./path":5,"./utils":8}],7:[function(n,t){var r=n("./progress"),u=n("./utils"),i=function(){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}";this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}";r.apply(this,arguments)};i.prototype=new r;i.prototype.constructor=i;i.prototype._pathString=function(n){var t=100-n.strokeWidth/2;return u.render(this._pathTemplate,{width:t,strokeWidth:n.strokeWidth,halfOfStrokeWidth:n.strokeWidth/2})};i.prototype._trailString=function(n){var t=100-n.strokeWidth/2;return u.render(this._trailTemplate,{width:t,strokeWidth:n.strokeWidth,halfOfStrokeWidth:n.strokeWidth/2,startMargin:n.strokeWidth/2-n.trailWidth/2})};t.exports=i},{"./progress":6,"./utils":8}],8:[function(n,t){function i(n,t){n=n||{};t=t||{};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function r(n,t){var i=n;for(var r in t)if(t.hasOwnProperty(r)){var u=t[r],f="\\{"+r+"\\}",e=new RegExp(f,"g");i=i.replace(e,u)}return i}function u(n){return typeof n=="string"||n instanceof String}function f(n){return typeof n=="function"}t.exports={extend:i,render:r,isString:u,isFunction:f}},{}]},{},[4])(4)});
/*!
jQuery Waypoints - v2.0.5
Copyright (c) 2011-2014 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var t=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1},n=[].slice;(function(n,t){return typeof define=="function"&&define.amd?define("waypoints",["jquery"],function(i){return t(i,n)}):t(n.jQuery,n)})(window,function(i,r){var a,b,v,o,k,h,s,y,u,f,p,w,d,l,c,e;a=i(r);y=t.call(r,"ontouchstart")>=0;o={horizontal:{},vertical:{}};k=1;s={};h="waypoints-context-id";p="resize.waypoints";w="scroll.waypoints";d=1;l="waypoints-waypoint-ids";c="waypoint";e="waypoints";b=function(){function n(n){var t=this;this.$element=n;this.element=n[0];this.didResize=!1;this.didScroll=!1;this.id="context"+k++;this.oldScroll={x:n.scrollLeft(),y:n.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element[h]=this.id;s[this.id]=this;n.bind(w,function(){var n;if(!(t.didScroll||y))return t.didScroll=!0,n=function(){return t.doScroll(),t.didScroll=!1},r.setTimeout(n,i[e].settings.scrollThrottle)});n.bind(p,function(){var n;if(!t.didResize)return t.didResize=!0,n=function(){return i[e]("refresh"),t.didResize=!1},r.setTimeout(n,i[e].settings.resizeThrottle)})}return n.prototype.doScroll=function(){var n,t=this;return n={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!y||n.vertical.oldScroll&&n.vertical.newScroll||i[e]("refresh"),i.each(n,function(n,r){var e,f,u;return u=[],f=r.newScroll>r.oldScroll,e=f?r.forward:r.backward,i.each(t.waypoints[n],function(n,t){var i,f;return r.oldScroll<(i=t.offset)&&i<=r.newScroll?u.push(t):r.newScroll<(f=t.offset)&&f<=r.oldScroll?u.push(t):void 0}),u.sort(function(n,t){return n.offset-t.offset}),f||u.reverse(),i.each(u,function(n,t){if(t.options.continuous||n===u.length-1)return t.trigger([e])})}),this.oldScroll={x:n.horizontal.newScroll,y:n.vertical.newScroll}},n.prototype.refresh=function(){var r,t,n,u=this;return n=i.isWindow(this.element),t=this.$element.offset(),this.doScroll(),r={horizontal:{contextOffset:n?0:t.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:t.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?i[e]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},i.each(r,function(n,t){return i.each(u.waypoints[n],function(n,r){var u,e,f,o,s;if(u=r.options.offset,f=r.offset,e=i.isWindow(r.element)?0:r.$element.offset()[t.offsetProp],i.isFunction(u)?u=u.apply(r.element):typeof u=="string"&&(u=parseFloat(u),r.options.offset.indexOf("%")>-1&&(u=Math.ceil(t.contextDimension*u/100))),r.offset=e-t.contextOffset+t.contextScroll-u,(!r.options.onlyOnScroll||f==null)&&r.enabled)return f!==null&&f<(o=t.oldScroll)&&o<=r.offset?r.trigger([t.backward]):f!==null&&f>(s=t.oldScroll)&&s>=r.offset?r.trigger([t.forward]):f===null&&t.oldScroll>=r.offset?r.trigger([t.forward]):void 0})})},n.prototype.checkEmpty=function(){if(i.isEmptyObject(this.waypoints.horizontal)&&i.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([p,w].join(" ")),delete s[this.id]},n}();v=function(){function n(n,t,r){var u,f;r.offset==="bottom-in-view"&&(r.offset=function(){var n;return n=i[e]("viewportHeight"),i.isWindow(t.element)||(n=t.$element.height()),n-i(this).outerHeight()});this.$element=n;this.element=n[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=t;this.enabled=r.enabled;this.id="waypoints"+d++;this.offset=null;this.options=r;t.waypoints[this.axis][this.id]=this;o[this.axis][this.id]=this;u=(f=this.element[l])!=null?f:[];u.push(this.id);this.element[l]=u}return n.prototype.trigger=function(n){if(this.enabled)return this.callback!=null&&this.callback.apply(this.element,n),this.options.triggerOnce?this.destroy():void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},n.prototype.destroy=function(){return delete o[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},n.getWaypointsByElement=function(n){var r,t;return(t=n[l],!t)?[]:(r=i.extend({},o.horizontal,o.vertical),i.map(t,function(n){return r[n]}))},n}();f={init:function(n,t){var r;return t=i.extend({},i.fn[c].defaults,t),(r=t.handler)==null&&(t.handler=n),this.each(function(){var u,r,n,f;return u=i(this),n=(f=t.context)!=null?f:i.fn[c].defaults.context,i.isWindow(n)||(n=u.closest(n)),n=i(n),r=s[n[0][h]],r||(r=new b(n)),new v(u,r,t)}),i[e]("refresh"),this},disable:function(){return f._invoke.call(this,"disable")},enable:function(){return f._invoke.call(this,"enable")},destroy:function(){return f._invoke.call(this,"destroy")},prev:function(n,t){return f._traverse.call(this,n,t,function(n,t,i){if(t>0)return n.push(i[t-1])})},next:function(n,t){return f._traverse.call(this,n,t,function(n,t,i){if(t<i.length-1)return n.push(i[t+1])})},_traverse:function(n,t,f){var e,o;return n==null&&(n="vertical"),t==null&&(t=r),o=u.aggregate(t),e=[],this.each(function(){var t;return t=i.inArray(this,o[n]),f(e,t,o[n])}),this.pushStack(e)},_invoke:function(n){return this.each(function(){var t;return t=v.getWaypointsByElement(this),i.each(t,function(t,i){return i[n](),!0})}),this}};i.fn[c]=function(){var r,t;return t=arguments[0],r=2<=arguments.length?n.call(arguments,1):[],f[t]?f[t].apply(this,r):i.isFunction(t)?f.init.apply(this,arguments):i.isPlainObject(t)?f.init.apply(this,[null,t]):t?i.error("The "+t+" method does not exist in jQuery Waypoints."):i.error("jQuery Waypoints needs a callback function or handler option.")};i.fn[c].defaults={context:r,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1};u={refresh:function(){return i.each(s,function(n,t){return t.refresh()})},viewportHeight:function(){var n;return(n=r.innerHeight)!=null?n:a.height()},aggregate:function(n){var r,t,u;return(r=o,n&&(r=(u=s[i(n)[0][h]])!=null?u.waypoints:void 0),!r)?[]:(t={horizontal:[],vertical:[]},i.each(t,function(n,u){return i.each(r[n],function(n,t){return u.push(t)}),u.sort(function(n,t){return n.offset-t.offset}),t[n]=i.map(u,function(n){return n.element}),t[n]=i.unique(t[n])}),t)},above:function(n){return n==null&&(n=r),u._filter(n,"vertical",function(n,t){return t.offset<=n.oldScroll.y})},below:function(n){return n==null&&(n=r),u._filter(n,"vertical",function(n,t){return t.offset>n.oldScroll.y})},left:function(n){return n==null&&(n=r),u._filter(n,"horizontal",function(n,t){return t.offset<=n.oldScroll.x})},right:function(n){return n==null&&(n=r),u._filter(n,"horizontal",function(n,t){return t.offset>n.oldScroll.x})},enable:function(){return u._invoke("enable")},disable:function(){return u._invoke("disable")},destroy:function(){return u._invoke("destroy")},extendFn:function(n,t){return f[n]=t},_invoke:function(n){var t;return t=i.extend({},o.vertical,o.horizontal),i.each(t,function(t,i){return i[n](),!0})},_filter:function(n,t,r){var u,f;return(u=s[i(n)[0][h]],!u)?[]:(f=[],i.each(u.waypoints[t],function(n,t){if(r(u,t))return f.push(t)}),f.sort(function(n,t){return n.offset-t.offset}),i.map(f,function(n){return n.element}))}};i[e]=function(){var i,t;return t=arguments[0],i=2<=arguments.length?n.call(arguments,1):[],u[t]?u[t].apply(null,i):u.aggregate.call(null,t)};i[e].settings={resizeThrottle:100,scrollThrottle:30};return a.on("load.waypoints",function(){return i[e]("refresh")})})}).call(this),function(n){"use strict";function w(n,i,r,u){n.beginPath();n.arc(i,r,u,0,t,!1);n.fill()}function u(n,t,i,r,u){n.beginPath();n.moveTo(t,i);n.lineTo(r,u);n.stroke()}function b(n,i,r,u,f,e,o,s){var h=Math.cos(i*t),c=Math.sin(i*t);s-=o;w(n,r-c*f,u+h*e+s*.5,o+(1-h*.5)*s)}function e(n,t,i,r,u,f,e,o){for(var s=5;s--;)b(n,t+s/5,i,r,u,f,e,o)}function f(n,t,i,r,u,f,o){t/=3e4;var s=u*.21,h=u*.12,c=u*.24,l=u*.28;n.fillStyle=o;e(n,t,i,r,s,h,c,l);n.globalCompositeOperation="destination-out";e(n,t,i,r,s,h,c-f,l-f);n.globalCompositeOperation="source-over"}function a(n,i,r,f,e,o,s){i/=12e4;var p=e*.25-o*.5,v=e*.32+o*.5,y=e*.5-o*.5,h,c,l,a;for(n.strokeStyle=s,n.lineWidth=o,n.lineCap="round",n.lineJoin="round",n.beginPath(),n.arc(r,f,p,0,t,!1),n.stroke(),h=8;h--;)c=(i+h/8)*t,l=Math.cos(c),a=Math.sin(c),u(n,r+l*v,f+a*v,r+l*y,f+a*y)}function v(n,i,r,u,f,e,o){i/=15e3;var h=f*.29-e*.5,a=f*.05,c=Math.cos(i*t),s=c*t/-16;n.strokeStyle=o;n.lineWidth=e;n.lineCap="round";n.lineJoin="round";r+=c*a;n.beginPath();n.arc(r,u,h,s+t/8,s+t*7/8,!1);n.arc(r+Math.cos(s)*h*l,u+Math.sin(s)*h*l,h,s+t*5/8,s+t*3/8,!0);n.closePath();n.stroke()}function k(n,i,r,u,f,e,o){i/=1350;var a=f*.16,v=t*11/12,y=t*7/12,s,h,c,l;for(n.fillStyle=o,s=4;s--;)h=(i+s/4)%1,c=r+(s-1.5)/1.5*(s===1||s===2?-1:1)*a,l=u+h*h*f,n.beginPath(),n.moveTo(c,l-e*1.5),n.arc(c,l,e*.75,v,y,!1),n.fill()}function d(n,i,r,f,e,o,s){i/=750;var v=e*.1875,y=t*11/12,p=t*7/12,h,a,c,l;for(n.strokeStyle=s,n.lineWidth=o*.5,n.lineCap="round",n.lineJoin="round",h=4;h--;)a=(i+h/4)%1,c=Math.floor(r+(h-1.5)/1.5*(h===1||h===2?-1:1)*v)+.5,l=f+a*e,u(n,c,l-o*1.5,c,l+o*1.5)}function g(n,i,r,f,e,o,s){i/=3e3;var it=e*.16,l=o*.75,a=i*t*.7,p=Math.cos(a)*l,w=Math.sin(a)*l,b=a+t/3,k=Math.cos(b)*l,d=Math.sin(b)*l,g=a+t*2/3,nt=Math.cos(g)*l,tt=Math.sin(g)*l,v,y,h,c;for(n.strokeStyle=s,n.lineWidth=o*.5,n.lineCap="round",n.lineJoin="round",v=4;v--;)y=(i+v/4)%1,h=r+Math.sin((y+v/4)*t)*it,c=f+y*e,u(n,h-p,c-w,h+p,c+w),u(n,h-k,c-d,h+k,c+d),u(n,h-nt,c-tt,h+nt,c+tt)}function nt(n,t,i,r,u,f,o){t/=3e4;var s=u*.21,h=u*.06,c=u*.21,l=u*.28;n.fillStyle=o;e(n,t,i,r,s,h,c,l);n.globalCompositeOperation="destination-out";e(n,t,i,r,s,h,c-f,l-f);n.globalCompositeOperation="source-over"}function tt(n,i,r,u,f,e,o){var l=f/8,h=l/3,c=2*h,s=i%1*t,a=Math.cos(s),v=Math.sin(s);n.fillStyle=o;n.strokeStyle=o;n.lineWidth=e;n.lineCap="round";n.lineJoin="round";n.beginPath();n.arc(r,u,l,s,s+Math.PI,!1);n.arc(r-h*a,u-h*v,c,s+Math.PI,s,!1);n.arc(r+c*a,u+c*v,h,s+Math.PI,s,!0);n.globalCompositeOperation="destination-out";n.fill();n.globalCompositeOperation="source-over";n.stroke()}function p(n,t,i,r,u,f,e,o,s){t/=2500;var c=y[e],w=(t+e-h[e].start)%o,a=(t+e-h[e].end)%o,b=(t+e)%o,p,l,k,v;if(n.strokeStyle=s,n.lineWidth=f,n.lineCap="round",n.lineJoin="round",w<1){if(n.beginPath(),w*=c.length/2-1,p=Math.floor(w),w-=p,p*=2,p+=2,n.moveTo(i+(c[p-2]*(1-w)+c[p]*w)*u,r+(c[p-1]*(1-w)+c[p+1]*w)*u),a<1){for(a*=c.length/2-1,l=Math.floor(a),a-=l,l*=2,l+=2,v=p;v!==l;v+=2)n.lineTo(i+c[v]*u,r+c[v+1]*u);n.lineTo(i+(c[l-2]*(1-a)+c[l]*a)*u,r+(c[l-1]*(1-a)+c[l+1]*a)*u)}else for(v=p;v!==c.length;v+=2)n.lineTo(i+c[v]*u,r+c[v+1]*u);n.stroke()}else if(a<1){for(n.beginPath(),a*=c.length/2-1,l=Math.floor(a),a-=l,l*=2,l+=2,n.moveTo(i+c[0]*u,r+c[1]*u),v=2;v!==l;v+=2)n.lineTo(i+c[v]*u,r+c[v+1]*u);n.lineTo(i+(c[l-2]*(1-a)+c[l]*a)*u,r+(c[l-1]*(1-a)+c[l+1]*a)*u);n.stroke()}b<1&&(b*=c.length/2-1,k=Math.floor(b),b-=k,k*=2,k+=2,tt(n,t,i+(c[k-2]*(1-b)+c[k]*b)*u,r+(c[k-1]*(1-b)+c[k+1]*b)*u,u,f,s))}var o,s,y,h,r;(function(){var t=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,i=n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.mozCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame;t&&i?(o=function(n){function r(){i.value=t(r);n()}var i={value:null};return r(),i},s=function(n){i(n.value)}):(o=setInterval,s=clearInterval)})();var c=500,i=.08,t=2*Math.PI,l=2/Math.sqrt(2);y=[[-.75,-.18,-.7219,-.1527,-.6971,-.1225,-.6739,-.091,-.6516,-.0588,-.6298,-.0262,-.6083,.0065,-.5868,.0396,-.5643,.0731,-.5372,.1041,-.5033,.1259,-.4662,.1406,-.4275,.1493,-.3881,.153,-.3487,.1526,-.3095,.1488,-.2708,.1421,-.2319,.1342,-.1943,.1217,-.16,.1025,-.129,.0785,-.1012,.0509,-.0764,.0206,-.0547,-.012,-.0378,-.0472,-.0324,-.0857,-.0389,-.1241,-.0546,-.1599,-.0814,-.1876,-.1193,-.1964,-.1582,-.1935,-.1931,-.1769,-.2157,-.1453,-.229,-.1085,-.2327,-.0697,-.224,-.0317,-.2064,.0033,-.1853,.0362,-.1613,.0672,-.135,.0961,-.1051,.1213,-.0706,.1397,-.0332,.1512,.0053,.158,.0442,.1624,.0833,.1636,.1224,.1615,.1613,.1565,.1999,.15,.2378,.1402,.2749,.1279,.3118,.1147,.3487,.1015,.3858,.0892,.4236,.0787,.4621,.0715,.5012,.0702,.5398,.0766,.5768,.089,.6123,.1055,.6466,.1244,.6805,.144,.7147,.163,.75,.18],[-.75,0,-.7033,.0195,-.6569,.0399,-.6104,.06,-.5634,.0789,-.5155,.0954,-.4667,.1089,-.4174,.1206,-.3676,.1299,-.3174,.1365,-.2669,.1398,-.2162,.1391,-.1658,.1347,-.1157,.1271,-.0661,.1169,-.017,.1046,.0316,.0903,.0791,.0728,.1259,.0534,.1723,.0331,.2188,.0129,.2656,-.0064,.3122,-.0263,.3586,-.0466,.4052,-.0665,.4525,-.0847,.5007,-.1002,.5497,-.113,.5991,-.124,.6491,-.1325,.6994,-.138,.75,-.14]];h=[{start:.36,end:.11},{start:.56,end:.16}];r=function(n){this.list=[];this.interval=null;this.color=n&&n.color?n.color:"black";this.resizeClear=!!(n&&n.resizeClear)};r.CLEAR_DAY=function(n,t,r){var u=n.canvas.width,f=n.canvas.height,e=Math.min(u,f);a(n,t,u*.5,f*.5,e,e*i,r)};r.CLEAR_NIGHT=function(n,t,r){var u=n.canvas.width,f=n.canvas.height,e=Math.min(u,f);v(n,t,u*.5,f*.5,e,e*i,r)};r.PARTLY_CLOUDY_DAY=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);a(n,t,e*.625,o*.375,u*.75,u*i,r);f(n,t,e*.375,o*.625,u*.75,u*i,r)};r.PARTLY_CLOUDY_NIGHT=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);v(n,t,e*.667,o*.375,u*.75,u*i,r);f(n,t,e*.375,o*.625,u*.75,u*i,r)};r.CLOUDY=function(n,t,r){var u=n.canvas.width,e=n.canvas.height,o=Math.min(u,e);f(n,t,u*.5,e*.5,o,o*i,r)};r.RAIN=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);k(n,t,e*.5,o*.37,u*.9,u*i,r);f(n,t,e*.5,o*.37,u*.9,u*i,r)};r.SLEET=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);d(n,t,e*.5,o*.37,u*.9,u*i,r);f(n,t,e*.5,o*.37,u*.9,u*i,r)};r.SNOW=function(n,t,r){var e=n.canvas.width,o=n.canvas.height,u=Math.min(e,o);g(n,t,e*.5,o*.37,u*.9,u*i,r);f(n,t,e*.5,o*.37,u*.9,u*i,r)};r.WIND=function(n,t,r){var f=n.canvas.width,e=n.canvas.height,u=Math.min(f,e);p(n,t,f*.5,e*.5,u,u*i,0,2,r);p(n,t,f*.5,e*.5,u,u*i,1,2,r)};r.FOG=function(n,r,f){var o=n.canvas.width,h=n.canvas.height,s=Math.min(o,h),e=s*i;nt(n,r,o*.5,h*.32,s*.75,e,f);r/=5e3;var v=Math.cos(r*t)*s*.02,y=Math.cos((r+.25)*t)*s*.02,p=Math.cos((r+.5)*t)*s*.02,w=Math.cos((r+.75)*t)*s*.02,c=h*.936,l=Math.floor(c-e*.5)+.5,a=Math.floor(c-e*2.5)+.5;n.strokeStyle=f;n.lineWidth=e;n.lineCap="round";n.lineJoin="round";u(n,v+o*.2+e*.5,l,y+o*.8-e*.5,l);u(n,p+o*.2+e*.5,a,w+o*.8-e*.5,a)};r.prototype={_determineDrawingFunction:function(n){if(typeof n=="string")return n=n.toUpperCase().replace(/-/g,"_"),r.hasOwnProperty(n)?r[n]:null},add:function(n,t){var i;(typeof n=="string"&&(n=document.getElementById(n)),n!==null)&&(t=this._determineDrawingFunction(t),typeof t=="function")&&(i={element:n,context:n.getContext("2d"),drawing:t},this.list.push(i),this.draw(i,c))},set:function(n,t){var i;for(typeof n=="string"&&(n=document.getElementById(n)),i=this.list.length;i--;)if(this.list[i].element===n){this.list[i].drawing=this._determineDrawingFunction(t);this.draw(this.list[i],c);return}this.add(n,t)},remove:function(n){var t;for(typeof n=="string"&&(n=document.getElementById(n)),t=this.list.length;t--;)if(this.list[t].element===n){this.list.splice(t,1);return}},draw:function(n,t){var i=n.context.canvas;this.resizeClear?i.width=i.width:n.context.clearRect(0,0,i.width,i.height);n.drawing(n.context,t,this.color)},play:function(){var n=this;this.pause();this.interval=o(function(){for(var i=Date.now(),t=n.list.length;t--;)n.draw(n.list[t],i)},1e3/60)},pause:function(){this.interval&&(s(this.interval),this.interval=null)}};n.Skycons=r}(this),function(n){n.gritter={};n.gritter.options={position:"",class_name:"",icon:"",close_icon:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3};n.gritter.add=function(n){try{return t.add(n||{})}catch(r){var i="Gritter Error: "+r;typeof console!="undefined"&&console.error?console.error(i,n):alert(i)}};n.gritter.remove=function(n,i){t.removeSpecific(n,i||{})};n.gritter.removeAll=function(n){t.stop(n||{})};var t={position:"",fade_in_speed:"",fade_out_speed:"",time:"",close_icon:"",icon:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<a class="gritter-close" href="#" tabindex="1"><\/a>',_tpl_title:'<span class="gritter-title">[[title]]<\/span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none" role="alert"><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]<\/p><\/div><div style="clear:both"><\/div><\/div><\/div>',_tpl_wrap:'<div id="gritter-notice-wrapper"><\/div>',add:function(i){var r,o,c,s,u;if(typeof i=="string"&&(i={text:i}),i.text===null)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var f=i.title,l=i.text,e=i.image||"",a=i.sticky||!1,v=i.class_name||n.gritter.options.class_name,y=i.icon||n.gritter.options.icon,p=i.close_icon||n.gritter.options.close_icon,w=n.gritter.options.position,h=i.time||"";return(this._verifyWrapper(),this._item_count++,r=this._item_count,o=this._tpl_item,n(["before_open","after_open","before_close","after_close"]).each(function(u,f){t["_"+f+"_"+r]=n.isFunction(i[f])?i[f]:function(){}}),this._custom_timer=0,h&&(this._custom_timer=h),s=e!=""?'<img src="'+e+'" class="gritter-image" />':"",c=e!=""?"gritter-with-image":"gritter-without-image",e==""&&(s='<i class="'+y+' gritter-icon"><\/i>'),f=f?this._str_replace("[[title]]",f,this._tpl_title):"",o=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[f,l,this._tpl_close,s,this._item_count,c,v],o),this["_before_open_"+r]()===!1)?!1:(n("#gritter-notice-wrapper").addClass(w).append(o),u=n("#gritter-item-"+this._item_count),u.fadeIn(this.fade_in_speed,function(){t["_after_open_"+r](n(this))}),a||this._setFadeTimer(u,r),n(u).find(".gritter-close").append('<i class="'+p+'"><\/i>'),n(u).find(".gritter-close").click(function(){return t.removeSpecific(r,{},null,!0),!1}),r)},_countRemoveWrapper:function(t,i,r){i.remove();this["_after_close_"+t](i,r);n(".gritter-item-wrapper").length==0&&n("#gritter-notice-wrapper").remove()},_fade:function(n,i,r,u){var r=r||{},e=typeof r.fade!="undefined"?r.fade:!0,o=r.speed||this.fade_out_speed,f=u;this["_before_close_"+i](n,f);u&&n.unbind("mouseenter mouseleave");e?n.animate({opacity:0},o,function(){n.animate({height:0},300,function(){t._countRemoveWrapper(i,n,f)})}):this._countRemoveWrapper(i,n)},_hoverState:function(n,t){t=="mouseenter"?(n.addClass("hover"),n.find(".gritter-close").show()):(n.removeClass("hover"),n.find(".gritter-close").hide())},removeSpecific:function(t,i,r,u){if(!r)var r=n("#gritter-item-"+t);this._fade(r,t,i||{},u)},_restoreItemIfFading:function(n,t){clearTimeout(this["_int_id_"+t]);n.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in n.gritter.options)this[opt]=n.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(n,i){var r=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){t._fade(n,i)},r)},stop:function(t){var r=n.isFunction(t.before_close)?t.before_close:function(){},u=n.isFunction(t.after_close)?t.after_close:function(){},i=n("#gritter-notice-wrapper");r(i);i.fadeOut(function(){n(this).remove();u()})},_str_replace:function(n,t,i,r){var f=0,e=0,o="",c="",l=0,a=0,h=[].concat(n),s=[].concat(t),u=i,v=s instanceof Array,y=u instanceof Array;for(u=[].concat(u),r&&(this.window[r]=0),f=0,l=u.length;f<l;f++)if(u[f]!=="")for(e=0,a=h.length;e<a;e++)o=u[f]+"",c=v?s[e]!==undefined?s[e]:"":s[0],u[f]=o.split(h[e]).join(c),r&&u[f]!==o&&(this.window[r]+=(o.length-u[f].length)/h[e].length);return y?u:u[0]},_verifyWrapper:function(){n("#gritter-notice-wrapper").length==0&&n("body").append(this._tpl_wrap)}}}(jQuery);