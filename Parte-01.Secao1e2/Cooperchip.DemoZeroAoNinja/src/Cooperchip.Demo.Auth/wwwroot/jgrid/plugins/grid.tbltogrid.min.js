function tableToGrid(t,d){jQuery(t).each(function(){if(!this.grid){jQuery(this).width("99%");var t,e=jQuery(this).width(),i=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),r=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),i=0<i.length,r=!i&&0<r.length,h=i||r,u=[],s=[],l=(jQuery("th",jQuery(this)).each(function(){0===u.length&&h?(u.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),s.push("__selection__")):(u.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),s.push(jQuery(this).html()))}),[]),j=[],n=[];for(jQuery("tbody > tr",jQuery(this)).each(function(){var i={},r=0;jQuery("td",jQuery(this)).each(function(){var t,e;0===r&&h?(e=(t=jQuery("input",jQuery(this))).attr("value"),j.push(e||l.length),t.is(":checked")&&n.push(e),i[u[r].name]=t.attr("value")):i[u[r].name]=jQuery(this).html(),r++}),0<r&&l.push(i)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:e,colNames:s,colModel:u,multiselect:i},d||{})),t=0;t<l.length;t++){var y=null;null===(y=0<j.length&&(y=j[t])&&y.replace?encodeURIComponent(y).replace(/[.\-%]/g,"_"):y)&&(y=t+1),jQuery(this).jqGrid("addRowData",y,l[t])}for(t=0;t<n.length;t++)jQuery(this).jqGrid("setSelection",n[t])}})}